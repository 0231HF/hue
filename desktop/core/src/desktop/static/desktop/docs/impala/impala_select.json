{"body":"<div><p>\n      The <span class=\"sql-docs-inline-code\">SELECT</span>  statement performs queries, retrieving data from one or more tables and producing\n      result sets consisting of rows and columns.\n    </p> <p>\n      The Impala <span class=\"sql-docs-inline-code\"><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_insert.xml#insert\">INSERT</a></span>  statement also typically ends\n      with a <span class=\"sql-docs-inline-code\">SELECT</span>  statement, to define data to copy from one table to another.\n    </p> <p id=\"../Impala/docs/topics/impala_select.xml_syntax_blurb\"><b>Syntax:</b> </p> <div class=\"sql-docs-code-block\">[WITH <i>name</i> AS (<i>select_expression</i> ) [, ...] ]<br/>SELECT<br/>  [ALL | DISTINCT]<br/>  [STRAIGHT_JOIN]<br/>  <i>expression</i> [, <i>expression</i> ...]<br/>FROM <i>table_reference</i> [, <i>table_reference</i> ...]<br/>[[FULL | [LEFT | RIGHT] INNER | [LEFT | RIGHT] OUTER | [LEFT | RIGHT] SEMI | [LEFT | RIGHT] ANTI | CROSS]<br/>  JOIN <i>table_reference</i> [ON <i>join_equality_clauses</i> | USING (<span class=\"sql-docs-variable\">col1</span> [, <span class=\"sql-docs-variable\">col2</span> ...]] ...<br/>WHERE <i>conditions</i> GROUP BY { <i>column</i> | <i>expression</i> [, ...] }<br/>HAVING <span class=\"sql-docs-inline-code\">conditions</span> ORDER BY { <i>column</i> | <i>expression</i> [ASC | DESC] [NULLS FIRST | NULLS LAST] [, ...] }<br/>LIMIT <i>expression</i> [OFFSET <i>expression</i> ]<br/>[UNION [ALL] <i>select_statement</i> ] ...]<br/><br/>table_reference := { <span class=\"sql-docs-variable\">table_name</span> | (<span class=\"sql-docs-variable\">subquery</span> ) }<br/>  <span class=\"sql-docs-inline-code\">[ TABLESAMPLE SYSTEM(<span class=\"sql-docs-variable\">percentage</span> ) [REPEATABLE(<span class=\"sql-docs-variable\">seed</span> )] ]</span> </div><p>\n      Impala <span class=\"sql-docs-inline-code\">SELECT</span>  queries support:\n    </p> <ul><li>\n        SQL scalar data types: <span class=\"sql-docs-inline-code\"><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_boolean.xml#boolean\">BOOLEAN</a></span> ,\n        <span class=\"sql-docs-inline-code\"><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_tinyint.xml#tinyint\">TINYINT</a></span> ,\n        <span class=\"sql-docs-inline-code\"><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_smallint.xml#smallint\">SMALLINT</a></span> ,\n        <span class=\"sql-docs-inline-code\"><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_int.xml#int\">INT</a></span> ,\n        <span class=\"sql-docs-inline-code\"><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_bigint.xml#bigint\">BIGINT</a></span> ,\n        <span class=\"sql-docs-inline-code\"><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_decimal.xml#decimal\">DECIMAL</a></span> <span class=\"sql-docs-inline-code\"><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_float.xml#float\">FLOAT</a></span> ,\n        <span class=\"sql-docs-inline-code\"><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_double.xml#double\">DOUBLE</a></span> ,\n        <span class=\"sql-docs-inline-code\"><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_timestamp.xml#timestamp\">TIMESTAMP</a></span> ,\n        <span class=\"sql-docs-inline-code\"><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_string.xml#string\">STRING</a></span> ,\n        <span class=\"sql-docs-inline-code\"><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_varchar.xml#varchar\">VARCHAR</a></span> ,\n        <span class=\"sql-docs-inline-code\"><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_char.xml#char\">CHAR</a></span> .\n      </li> <li>\n        The complex data types <span class=\"sql-docs-inline-code\">ARRAY</span> , <span class=\"sql-docs-inline-code\">STRUCT</span> , and <span class=\"sql-docs-inline-code\">MAP</span> ,\n        are available in Impala 2.3 and higher.\n        Queries involving these types typically involve special qualified names\n        using dot notation for referring to the complex column fields,\n        and join clauses for bringing the complex columns into the result set.\n        See <a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_complex_types.xml#complex_types\">Complex Types (Impala 2.3 or higher only)</a> for details.\n      </li> <li>\n        An optional <a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_with.xml#with\">WITH clause</a> before the\n        <span class=\"sql-docs-inline-code\">SELECT</span>  keyword, to define a subquery whose name or column names can be referenced from\n        later in the main query. This clause lets you abstract repeated clauses, such as aggregation functions,\n        that are referenced multiple times in the same query.\n      </li> <li>\n        By default, one <span class=\"sql-docs-inline-code\">DISTINCT</span>  clause per query. See <a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_distinct.xml#distinct\">DISTINCT Operator</a>\n        for details. See <a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_appx_count_distinct.xml#appx_count_distinct\">APPX_COUNT_DISTINCT Query Option (Impala 2.0 or higher only)</a> for a query option to\n        allow multiple <span class=\"sql-docs-inline-code\">COUNT(DISTINCT)</span>  impressions in the same query.\n      </li> <li>\n        Subqueries in a <span class=\"sql-docs-inline-code\">FROM</span>  clause. In Impala 2.0 and higher,\n        subqueries can also go in the <span class=\"sql-docs-inline-code\">WHERE</span>  clause, for example with the\n        <span class=\"sql-docs-inline-code\">IN()</span> , <span class=\"sql-docs-inline-code\">EXISTS</span> , and <span class=\"sql-docs-inline-code\">NOT EXISTS</span>  operators.\n      </li> <li><span class=\"sql-docs-inline-code\">WHERE</span> , <span class=\"sql-docs-inline-code\">GROUP BY</span> , <span class=\"sql-docs-inline-code\">HAVING</span>  clauses.\n      </li> <li><span class=\"sql-docs-inline-code\"><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_order_by.xml#order_by\">ORDER BY</a></span> . Prior to Impala 1.4.0, Impala\n        required that queries using an <span class=\"sql-docs-inline-code\">ORDER BY</span>  clause also include a\n        <span class=\"sql-docs-inline-code\"><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_limit.xml#limit\">LIMIT</a></span>  clause. In Impala 1.4.0 and higher, this\n        restriction is lifted; sort operations that would exceed the Impala memory limit automatically use a\n        temporary disk work area to perform the sort.\n      </li> <li><p id=\"../Impala/docs/topics/impala_select.xml_join_types\">\n        Impala supports a wide variety of <span class=\"sql-docs-inline-code\">JOIN</span>  clauses. Left, right, semi, full, and outer joins\n        are supported in all Impala versions. The <span class=\"sql-docs-inline-code\">CROSS JOIN</span>  operator is available in Impala 1.2.2\n        and higher. During performance tuning, you can override the reordering of join clauses that Impala does\n        internally by including the keyword <span class=\"sql-docs-inline-code\">STRAIGHT_JOIN</span>  immediately after the\n        <span class=\"sql-docs-inline-code\">SELECT</span>  and any <span class=\"sql-docs-inline-code\">DISTINCT</span>  or <span class=\"sql-docs-inline-code\">ALL</span>  keywords.\n      </p> <p>\n          See <a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_joins.xml#joins\">Joins in Impala SELECT Statements</a> for details and examples of join queries.\n        </p> </li> <li><span class=\"sql-docs-inline-code\">UNION ALL</span> .\n      </li> <li><span class=\"sql-docs-inline-code\">LIMIT</span> .\n      </li> <li>\n        External tables.\n      </li> <li>\n        Relational operators such as greater than, less than, or equal to.\n      </li> <li>\n        Arithmetic operators such as addition or subtraction.\n      </li> <li>\n        Logical/Boolean operators <span class=\"sql-docs-inline-code\">AND</span> , <span class=\"sql-docs-inline-code\">OR</span> , and <span class=\"sql-docs-inline-code\">NOT</span> . Impala does\n        not support the corresponding symbols <span class=\"sql-docs-inline-code\">&&</span> , <span class=\"sql-docs-inline-code\">||</span> , and\n        <span class=\"sql-docs-inline-code\">!</span> .\n      </li> <li>\n        Common SQL built-in functions such as <span class=\"sql-docs-inline-code\">COUNT</span> , <span class=\"sql-docs-inline-code\">SUM</span> , <span class=\"sql-docs-inline-code\">CAST</span> ,\n        <span class=\"sql-docs-inline-code\">LIKE</span> , <span class=\"sql-docs-inline-code\">IN</span> , <span class=\"sql-docs-inline-code\">BETWEEN</span> , and <span class=\"sql-docs-inline-code\">COALESCE</span> . Impala\n        specifically supports built-ins described in <a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_functions.xml#builtins\">Impala Built-In Functions</a>.\n      </li> <li>\n        In Impala 2.9 and higher, an optional <span class=\"sql-docs-inline-code\">TABLESAMPLE</span> \n        clause immediately after a table reference, to specify that the query only processes a\n        specified percentage of the table data. See  for details.\n      </li> </ul> <p id=\"../Impala/docs/topics/impala_select.xml_ignore_file_extensions\">\n        Impala queries ignore files with extensions commonly used for temporary work files by Hadoop tools. Any\n        files with extensions <span class=\"sql-docs-inline-code\">.tmp</span>  or <span class=\"sql-docs-inline-code\">.copying</span>  are not considered part of the\n        Impala table. The suffix matching is case-insensitive, so for example Impala ignores both\n        <span class=\"sql-docs-inline-code\">.copying</span>  and <span class=\"sql-docs-inline-code\">.COPYING</span>  suffixes.\n      </p> <p id=\"../Impala/docs/topics/impala_select.xml_security_blurb\"><b>Security considerations:</b> </p> <p id=\"../Impala/docs/topics/impala_select.xml_redaction_yes\">\n        If these statements in your environment contain sensitive literal values such as credit card numbers or tax\n        identifiers, Impala can redact this sensitive information when displaying the statements in log files and\n        other administrative contexts. See  for details.\n      </p> <p id=\"../Impala/docs/topics/impala_select.xml_s3_blurb\"><b>Amazon S3 considerations:</b> </p> <p id=\"../Impala/docs/topics/impala_select.xml_s3_block_splitting\">\n        In Impala 2.6 and higher, Impala queries are optimized for files stored in Amazon S3.\n        For Impala tables that use the file formats Parquet, ORC, RCFile, SequenceFile,\n        Avro, and uncompressed text, the setting <span class=\"sql-docs-inline-code\">fs.s3a.block.size</span> \n        in the <span class=\"sql-docs-variable\">core-site.xml</span>  configuration file determines\n        how Impala divides the I/O work of reading the data files. This configuration\n        setting is specified in bytes. By default, this\n        value is 33554432 (32 MB), meaning that Impala parallelizes S3 read operations on the files\n        as if they were made up of 32 MB blocks. For example, if your S3 queries primarily access\n        Parquet files written by MapReduce or Hive, increase <span class=\"sql-docs-inline-code\">fs.s3a.block.size</span> \n        to 134217728 (128 MB) to match the row group size of those files. If most S3 queries involve\n        Parquet files written by Impala, increase <span class=\"sql-docs-inline-code\">fs.s3a.block.size</span> \n        to 268435456 (256 MB) to match the row group size produced by Impala.\n      </p> <p id=\"../Impala/docs/topics/impala_select.xml_cancel_blurb_yes\"><b>Cancellation:</b>  Can be cancelled. To cancel this statement, use Ctrl-C from the\n        <span class=\"sql-docs-inline-code\">impala-shell</span>  interpreter, the  button from the\n         page in Hue, or  from the list of\n        in-flight queries (for a particular node) on the  tab in the Impala web UI\n        (port 25000).\n      </p> <p id=\"../Impala/docs/topics/impala_select.xml_permissions_blurb\"><b>HDFS permissions:</b> </p> <p>\n      The user ID that the <span class=\"sql-docs-inline-code\">impalad</span>  daemon runs under,\n      typically the <span class=\"sql-docs-inline-code\">impala</span>  user, must have read\n      permissions for the files in all applicable directories in all source tables,\n      and read and execute permissions for the relevant data directories.\n      (A <span class=\"sql-docs-inline-code\">SELECT</span>  operation could read files from multiple different HDFS directories\n      if the source table is partitioned.)\n      If a query attempts to read a data file and is unable to because of an HDFS permission error,\n      the query halts and does not return any further results.\n    </p> <p id=\"../Impala/docs/topics/impala_select.xml_related_info\"><b>Related information:</b> </p> <p>\n      The <span class=\"sql-docs-inline-code\">SELECT</span>  syntax is so extensive that it forms its own category of statements: queries. The\n      other major classifications of SQL statements are data definition language (see\n      <a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_ddl.xml#ddl\">DDL Statements</a>) and data manipulation language (see <a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_dml.xml#dml\">DML Statements</a>).\n    </p> <p>\n      Because the focus of Impala is on fast queries with interactive response times over huge data sets, query\n      performance and scalability are important considerations. See\n      <span>performance</span> and <span>scalability</span> for\n      details.\n    </p> </div> ","title":"SELECT Statement"}