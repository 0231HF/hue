{"body":"<div><p>\n      An aggregate function that returns a single string representing the argument value concatenated together for\n      each row of the result set. If the optional separator string is specified, the separator is added between\n      each pair of concatenated values. The default separator is a comma followed by a space.\n    </p><p id=\"../Impala/docs/topics/impala_group_concat.xml_syntax_blurb\"><b>Syntax:</b></p><div class=\"sql-docs-code-block\">GROUP_CONCAT([ALL<span class=\"sql-docs-inline-code\"> | DISTINCT</span>] <span class=\"sql-docs-variable\">expression</span> [, <span class=\"sql-docs-variable\">separator</span>])</div><p id=\"../Impala/docs/topics/impala_group_concat.xml_concat_blurb\"><b>Usage notes:</b><span class=\"sql-docs-inline-code\">concat()</span> and <span class=\"sql-docs-inline-code\">concat_ws()</span> are appropriate for\n        concatenating the values of multiple columns within the same row, while <span class=\"sql-docs-inline-code\">group_concat()</span>\n        joins together values from different rows.\n      </p><p>\n      By default, returns a single string covering the whole result set. To include other columns or values in the\n      result set, or to produce multiple concatenated strings for subsets of rows, include a <span class=\"sql-docs-inline-code\">GROUP\n      BY</span> clause in the query.\n    </p><p><b>Return type:</b><span class=\"sql-docs-inline-code\">STRING</span></p><p id=\"../Impala/docs/topics/impala_group_concat.xml_analytic_not_allowed_caveat\">\n        This function cannot be used in an analytic context. That is, the <span class=\"sql-docs-inline-code\">OVER()</span> clause is not allowed at all with this function.\n      </p><p>\n      Currently, Impala returns an error if the result value grows larger than 1 GiB.\n    </p><p id=\"../Impala/docs/topics/impala_group_concat.xml_example_blurb\"><b>Examples:</b></p><p>\n      The following examples illustrate various aspects of the <span class=\"sql-docs-inline-code\">GROUP_CONCAT()</span> function.\n    </p><p>\n      You can call the function directly on a <span class=\"sql-docs-inline-code\">STRING</span> column. To use it with a numeric column, cast\n      the value to <span class=\"sql-docs-inline-code\">STRING</span>.\n    </p><div class=\"sql-docs-code-block\">[localhost:21000] > create table t1 (x int, s string);<br/>[localhost:21000] > insert into t1 values (1, \"one\"), (3, \"three\"), (2, \"two\"), (1, \"one\");<br/>[localhost:21000] > select group_concat(s) from t1;<br/>+----------------------+<br/>| group_concat(s)      |<br/>+----------------------+<br/>| one, three, two, one |<br/>+----------------------+<br/>[localhost:21000] > select group_concat(cast(x as string)) from t1;<br/>+---------------------------------+<br/>| group_concat(cast(x as string)) |<br/>+---------------------------------+<br/>| 1, 3, 2, 1                      |<br/>+---------------------------------+<br/></div><p>\n      Specify the <span class=\"sql-docs-inline-code\">DISTINCT</span> keyword to eliminate duplicate values from\n      the concatenated result:\n    </p><div class=\"sql-docs-code-block\"><br/>[localhost:21000] > select group_concat(distinct s) from t1;<br/>+--------------------------+<br/>| group_concat(distinct s) |<br/>+--------------------------+<br/>| three, two, one          |<br/>+--------------------------+<br/></div><p>\n      The optional separator lets you format the result in flexible ways. The separator can be an arbitrary string\n      expression, not just a single character.\n    </p><div class=\"sql-docs-code-block\">[localhost:21000] > select group_concat(s,\"|\") from t1;<br/>+----------------------+<br/>| group_concat(s, '|') |<br/>+----------------------+<br/>| one|three|two|one    |<br/>+----------------------+<br/>[localhost:21000] > select group_concat(s,'---') from t1;<br/>+-------------------------+<br/>| group_concat(s, '---')  |<br/>+-------------------------+<br/>| one---three---two---one |<br/>+-------------------------+<br/></div><p>\n      The default separator is a comma followed by a space. To get a comma-delimited result without extra spaces,\n      specify a delimiter character that is only a comma.\n    </p><div class=\"sql-docs-code-block\">[localhost:21000] > select group_concat(s,',') from t1;<br/>+----------------------+<br/>| group_concat(s, ',') |<br/>+----------------------+<br/>| one,three,two,one    |<br/>+----------------------+<br/></div><p>\n      Including a <span class=\"sql-docs-inline-code\">GROUP BY</span> clause lets you produce a different concatenated result for each group\n      in the result set. In this example, the only <span class=\"sql-docs-inline-code\">X</span> value that occurs more than once is\n      <span class=\"sql-docs-inline-code\">1</span>, so that is the only row in the result set where <span class=\"sql-docs-inline-code\">GROUP_CONCAT()</span> returns a\n      delimited value. For groups containing a single value, <span class=\"sql-docs-inline-code\">GROUP_CONCAT()</span> returns the original\n      value of its <span class=\"sql-docs-inline-code\">STRING</span> argument.\n    </p><div class=\"sql-docs-code-block\">[localhost:21000] > select x, group_concat(s) from t1 group by x;<br/>+---+-----------------+<br/>| x | group_concat(s) |<br/>+---+-----------------+<br/>| 2 | two             |<br/>| 3 | three           |<br/>| 1 | one, one        |<br/>+---+-----------------+<br/></div></div>","title":"GROUP_CONCAT Function"}