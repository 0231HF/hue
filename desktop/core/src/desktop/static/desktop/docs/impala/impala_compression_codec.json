{"body":"<div><p>\n      When Impala writes Parquet data files using the <span class=\"sql-docs-inline-code\">INSERT</span> statement, the underlying compression\n      is controlled by the <span class=\"sql-docs-inline-code\">COMPRESSION_CODEC</span> query option.\n    </p><div class=\"sql-docs-note\">\n      Prior to Impala 2.0, this option was named <span class=\"sql-docs-inline-code\">PARQUET_COMPRESSION_CODEC</span>. In Impala 2.0 and\n      later, the <span class=\"sql-docs-inline-code\">PARQUET_COMPRESSION_CODEC</span> name is not recognized. Use the more general name\n      <span class=\"sql-docs-inline-code\">COMPRESSION_CODEC</span> for new code.\n    </div><p id=\"../Impala/docs/topics/impala_compression_codec.xml_syntax_blurb\"><b>Syntax:</b></p><div class=\"sql-docs-code-block\">SET COMPRESSION_CODEC=<span class=\"sql-docs-variable\">codec_name</span>;</div><p>\n      The allowed values for this query option are <span class=\"sql-docs-inline-code\">SNAPPY</span> (the default), <span class=\"sql-docs-inline-code\">GZIP</span>,\n      and <span class=\"sql-docs-inline-code\">NONE</span>.\n    </p><div class=\"sql-docs-note\">\n      A Parquet file created with <span class=\"sql-docs-inline-code\">COMPRESSION_CODEC=NONE</span> is still typically smaller than the\n      original data, due to encoding schemes such as run-length encoding and dictionary encoding that are applied\n      separately from compression.\n    </div><p>\n      The option value is not case-sensitive.\n    </p><p>\n      If the option is set to an unrecognized value, all kinds of queries will fail due to the invalid option\n      setting, not just queries involving Parquet tables. (The value <span class=\"sql-docs-inline-code\">BZIP2</span> is also recognized, but\n      is not compatible with Parquet tables.)\n    </p><p><b>Type:</b><span class=\"sql-docs-inline-code\">STRING</span></p><p><b>Default:</b><span class=\"sql-docs-inline-code\">SNAPPY</span></p><p id=\"../Impala/docs/topics/impala_compression_codec.xml_example_blurb\"><b>Examples:</b></p><div class=\"sql-docs-code-block\">set compression_codec=gzip;<br/>insert into parquet_table_highly_compressed select * from t1;<br/><br/>set compression_codec=snappy;<br/>insert into parquet_table_compression_plus_fast_queries select * from t1;<br/><br/>set compression_codec=none;<br/>insert into parquet_table_no_compression select * from t1;<br/><br/>set compression_codec=foo;<br/>select * from t1 limit 5;<br/>ERROR: Invalid compression codec: foo<br/></div><p id=\"../Impala/docs/topics/impala_compression_codec.xml_related_info\"><b>Related information:</b></p><p>\n      For information about how compressing Parquet data files affects query performance, see\n      <span>parquet compression</span>.\n    </p></div>","title":"COMPRESSION_CODEC Query Option (Impala 2.0 or higher only)"}