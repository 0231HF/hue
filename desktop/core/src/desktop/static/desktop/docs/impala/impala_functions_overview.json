{"body":"<div><p>\n      Functions let you apply arithmetic, string, or other computations and transformations to Impala data. You\n      typically use them in <span class=\"sql-docs-inline-code\">SELECT</span> lists and <span class=\"sql-docs-inline-code\">WHERE</span> clauses to filter and format\n      query results so that the result set is exactly what you want, with no further processing needed on the\n      application side.\n    </p><p>\n      Scalar functions return a single result for each input row. See <a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_functions.xml#builtins\">Impala Built-In Functions</a>.\n    </p><div class=\"sql-docs-code-block\">[localhost:21000] > select name, population from country where continent = 'North America' order by population desc limit 4;<br/>[localhost:21000] > select upper(name), population from country where continent = 'North America' order by population desc limit 4;<br/>+-------------+------------+<br/>| upper(name) | population |<br/>+-------------+------------+<br/>| USA         | 320000000  |<br/>| MEXICO      | 122000000  |<br/>| CANADA      | 25000000   |<br/>| GUATEMALA   | 16000000   |<br/>+-------------+------------+<br/></div><p>\n      Aggregate functions combine the results from multiple rows:\n      either a single result for the entire table, or a separate result for each group of rows.\n      Aggregate functions are frequently used in combination with <span class=\"sql-docs-inline-code\">GROUP BY</span>\n      and <span class=\"sql-docs-inline-code\">HAVING</span> clauses in the <span class=\"sql-docs-inline-code\">SELECT</span> statement.\n      See <a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_aggregate_functions.xml#aggregate_functions\">Impala Aggregate Functions</a>.\n    </p><div class=\"sql-docs-code-block\">[localhost:21000] > select continent, <b>sum(population)</b> as howmany from country <b>group by continent</b> order by howmany desc;<br/>+---------------+------------+<br/>| continent     | howmany    |<br/>+---------------+------------+<br/>| Asia          | 4298723000 |<br/>| Africa        | 1110635000 |<br/>| Europe        | 742452000  |<br/>| North America | 565265000  |<br/>| South America | 406740000  |<br/>| Oceania       | 38304000   |<br/>+---------------+------------+<br/></div><p>\n      User-defined functions (UDFs) let you code your own logic.  They can be either scalar or aggregate functions.\n      UDFs let you implement important business or scientific logic using high-performance code for Impala to automatically parallelize.\n      You can also use UDFs to implement convenience functions to simplify reporting or porting SQL from other database systems.\n      See <a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_udf.xml#udfs\">Impala User-Defined Functions (UDFs)</a>.\n    </p><div class=\"sql-docs-code-block\">[localhost:21000] > select <b>rot13('Hello world!')</b> as 'Weak obfuscation';<br/>+------------------+<br/>| weak obfuscation |<br/>+------------------+<br/>| Uryyb jbeyq!     |<br/>+------------------+<br/>[localhost:21000] > select <b>likelihood_of_new_subatomic_particle(sensor1, sensor2, sensor3)</b> as probability<br/>                  > from experimental_results group by experiment;<br/></div><p>\n      Each function is associated with a specific database. For example, if you issue a <span class=\"sql-docs-inline-code\">USE somedb</span>\n      statement followed by <span class=\"sql-docs-inline-code\">CREATE FUNCTION somefunc</span>, the new function is created in the\n      <span class=\"sql-docs-inline-code\">somedb</span> database, and you could refer to it through the fully qualified name\n      <span class=\"sql-docs-inline-code\">somedb.somefunc</span>. You could then issue another <span class=\"sql-docs-inline-code\">USE</span> statement\n      and create a function with the same name in a different database.\n    </p><p>\n      Impala built-in functions are associated with a special database named <span class=\"sql-docs-inline-code\">_impala_builtins</span>,\n      which lets you refer to them from any database without qualifying the name.\n    </p><div class=\"sql-docs-code-block\">[localhost:21000] > show databases;<br/>+-------------------------+<br/>| name                    |<br/>+-------------------------+<br/>| <b>_impala_builtins</b>        |<br/>| analytic_functions      |<br/>| avro_testing            |<br/>| data_file_size          |<br/>...<br/>[localhost:21000] > show functions in _impala_builtins like '*subs*';<br/>+-------------+-----------------------------------+<br/>| return type | signature                         |<br/>+-------------+-----------------------------------+<br/>| STRING      | substr(STRING, BIGINT)            |<br/>| STRING      | substr(STRING, BIGINT, BIGINT)    |<br/>| STRING      | substring(STRING, BIGINT)         |<br/>| STRING      | substring(STRING, BIGINT, BIGINT) |<br/>+-------------+-----------------------------------+<br/></div><p><b>Related statements:</b><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_create_function.xml#create_function\">CREATE FUNCTION Statement</a>,\n      <a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_drop_function.xml#drop_function\">DROP FUNCTION Statement</a></p></div>","title":"Overview of Impala Functions"}