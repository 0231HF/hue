{"body":"<div><p>\n      Impala supports the following utility functions that do not operate on a particular column or data type:\n    </p> <dl><dlentry id=\"../Impala/docs/topics/impala_misc_functions.xml_current_database\"><dt><span class=\"sql-docs-inline-code\">current_database()</span> </dt> <dd><b>Purpose:</b>  Returns the database that the session is currently using, either <span class=\"sql-docs-inline-code\">default</span> \n          if no database has been selected, or whatever database the session switched to through a\n          <span class=\"sql-docs-inline-code\">USE</span>  statement or the <span class=\"sql-docs-inline-code\">impalad</span> <span class=\"sql-docs-inline-code\">-d</span>  option.\n          <p><b>Return type:</b> <span class=\"sql-docs-inline-code\">string</span> </p> </dd> </dlentry> <dlentry id=\"../Impala/docs/topics/impala_misc_functions.xml_effective_user\"><dt><span class=\"sql-docs-inline-code\">effective_user()</span> </dt> <dd><b>Purpose:</b>  Typically returns the same value as <span class=\"sql-docs-inline-code\">user()</span> ,\n          except if delegation is enabled, in which case it returns the ID of the delegated user.\n          <p><b>Return type:</b> <span class=\"sql-docs-inline-code\">string</span> </p> <p><b>Added in:</b> Impala 2.2.5</p> </dd> </dlentry> <dlentry id=\"../Impala/docs/topics/impala_misc_functions.xml_pid\"><dt><span class=\"sql-docs-inline-code\">pid()</span> </dt> <dd><b>Purpose:</b>  Returns the process ID of the <span class=\"sql-docs-inline-code\">impalad</span>  daemon that the session is\n          connected to. You can use it during low-level debugging, to issue Linux commands that trace, show the\n          arguments, and so on the <span class=\"sql-docs-inline-code\">impalad</span>  process.\n          <p><b>Return type:</b> <span class=\"sql-docs-inline-code\">int</span> </p> </dd> </dlentry> <dlentry id=\"../Impala/docs/topics/impala_misc_functions.xml_sleep\"><dt><span class=\"sql-docs-inline-code\">sleep(int ms)</span> </dt> <dd><b>Purpose:</b>  Pauses the query for a specified number of milliseconds. For slowing down queries with\n          small result sets enough to monitor runtime execution, memory usage, or other factors that otherwise\n          would be difficult to capture during the brief interval of query execution. When used in the\n          <span class=\"sql-docs-inline-code\">SELECT</span>  list, it is called once for each row in the result set; adjust the number of\n          milliseconds accordingly. For example, a query <span class=\"sql-docs-inline-code\">SELECT *, sleep(5) FROM\n          table_with_1000_rows</span>  would take at least 5 seconds to complete (5 milliseconds * 1000 rows in\n          result set). To avoid an excessive number of concurrent queries, use this function for troubleshooting on\n          test and development systems, not for production queries.\n          <p><b>Return type:</b>  N/A\n          </p> </dd> </dlentry> <dlentry id=\"../Impala/docs/topics/impala_misc_functions.xml_user\"><dt><span class=\"sql-docs-inline-code\">user()</span> </dt> <dd><b>Purpose:</b>  Returns the username of the Linux user who is connected to the <span class=\"sql-docs-inline-code\">impalad</span> \n          daemon. Typically called a single time, in a query without any <span class=\"sql-docs-inline-code\">FROM</span>  clause, to\n          understand how authorization settings apply in a security context; once you know the logged-in username,\n          you can check which groups that user belongs to, and from the list of groups you can check which roles\n          are available to those groups through the authorization policy file.\n          <p id=\"../Impala/docs/topics/impala_misc_functions.xml_user_kerberized\">\n        In Impala 2.0 and later, <span class=\"sql-docs-inline-code\">user()</span>  returns the full Kerberos principal string, such as\n        <span class=\"sql-docs-inline-code\">user@example.com</span> , in a Kerberized environment.\n      </p> <p>\n            When delegation is enabled, consider calling the <span class=\"sql-docs-inline-code\">effective_user()</span>  function instead.\n          </p> <p><b>Return type:</b> <span class=\"sql-docs-inline-code\">string</span> </p> </dd> </dlentry> <dlentry id=\"../Impala/docs/topics/impala_misc_functions.xml_uuid\"><dt><span class=\"sql-docs-inline-code\">uuid()</span> </dt> <dd><b>Purpose:</b>  Returns a <a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\">universal unique identifier</a>, a 128-bit value encoded as a string with groups of hexadecimal digits separated by dashes.\n          <p><b>Return type:</b> <span class=\"sql-docs-inline-code\">string</span> </p> <p id=\"../Impala/docs/topics/impala_misc_functions.xml_added_in_250\"><b>Added in:</b> Impala 2.5.0</p> <p id=\"../Impala/docs/topics/impala_misc_functions.xml_usage_notes_blurb\"><b>Usage notes:</b> </p> <p>\n            Ascending numeric sequences of type <span class=\"sql-docs-inline-code\">BIGINT</span>  are often used\n            as identifiers within a table, and as join keys across multiple tables.\n            The <span class=\"sql-docs-inline-code\">uuid()</span>  value is a convenient alternative that does not\n            require storing or querying the highest sequence number. For example, you\n            can use it to quickly construct new unique identifiers during a data import job,\n            or to combine data from different tables without the likelihood of ID collisions.\n          </p> <p id=\"../Impala/docs/topics/impala_misc_functions.xml_example_blurb\"><b>Examples:</b> </p> <div class=\"sql-docs-code-block\">-- Each call to uuid() produces a new arbitrary value.<br/>select uuid();<br/>+--------------------------------------+<br/>| uuid()                               |<br/>+--------------------------------------+<br/>| c7013e25-1455-457f-bf74-a2046e58caea |<br/>+--------------------------------------+<br/><br/>-- If you get a UUID for each row of a result set, you can use it as a<br/>-- unique identifier within a table, or even a unique ID across tables.<br/>select uuid() from four_row_table;<br/>+--------------------------------------+<br/>| uuid()                               |<br/>+--------------------------------------+<br/>| 51d3c540-85e5-4cb9-9110-604e53999e2e |<br/>| 0bb40071-92f6-4a59-a6a4-60d46e9703e2 |<br/>| 5e9d7c36-9842-4a96-862d-c13cd0457c02 |<br/>| cae29095-0cc0-4053-a5ea-7fcd3c780861 |<br/>+--------------------------------------+<br/></div></dd> </dlentry> <dlentry id=\"../Impala/docs/topics/impala_misc_functions.xml_version\"><dt><span class=\"sql-docs-inline-code\">version()</span> </dt> <dd><b>Purpose:</b>  Returns information such as the precise version number and build date for the\n          <span class=\"sql-docs-inline-code\">impalad</span>  daemon that you are currently connected to. Typically used to confirm that you\n          are connected to the expected level of Impala to use a particular feature, or to connect to several nodes\n          and confirm they are all running the same level of <span class=\"sql-docs-inline-code\">impalad</span> .\n          <p><b>Return type:</b> <span class=\"sql-docs-inline-code\">string</span>  (with one or more embedded newlines)\n          </p> </dd> </dlentry> </dl> </div> ","title":"Impala Miscellaneous Functions"}