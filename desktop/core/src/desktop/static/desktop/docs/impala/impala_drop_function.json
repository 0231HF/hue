{"body":"<div><p>\n      Removes a user-defined function (UDF), so that it is not available for execution during Impala\n      <span class=\"sql-docs-inline-code\">SELECT</span> or <span class=\"sql-docs-inline-code\">INSERT</span> operations.\n    </p><p id=\"../Impala/docs/topics/impala_drop_function.xml_syntax_blurb\"><b>Syntax:</b></p><p>\n      To drop C++ UDFs and UDAs:\n    </p><div class=\"sql-docs-code-block\">DROP [AGGREGATE] FUNCTION [IF EXISTS] [<span class=\"sql-docs-variable\">db_name</span>.]<span class=\"sql-docs-variable\">function_name</span>(<span class=\"sql-docs-variable\">type</span>[, <span class=\"sql-docs-variable\">type</span>...])</div><div class=\"sql-docs-note\"><p>\n        The preceding syntax, which includes the function signature, also applies to Java UDFs that were created\n        using the corresponding <span class=\"sql-docs-inline-code\">CREATE FUNCTION</span> syntax that includes the argument and return types.\n        After upgrading to Impala 2.5 or higher, consider re-creating all Java UDFs with the\n        <span class=\"sql-docs-inline-code\">CREATE FUNCTION</span> syntax that does not include the function signature. Java UDFs created this\n        way are now persisted in the metastore database and do not need to be re-created after an Impala restart.\n      </p></div><p>\n      To drop Java UDFs (created using the <span class=\"sql-docs-inline-code\">CREATE FUNCTION</span> syntax with no function signature):\n    </p><div class=\"sql-docs-code-block\">DROP FUNCTION [IF EXISTS] [<span class=\"sql-docs-variable\">db_name</span>.]<span class=\"sql-docs-variable\">function_name</span></div><p id=\"../Impala/docs/topics/impala_drop_function.xml_ddl_blurb\"><b>Statement type:</b> DDL\n      </p><p id=\"../Impala/docs/topics/impala_drop_function.xml_usage_notes_blurb\"><b>Usage notes:</b></p><p>\n      Because the same function name could be overloaded with different argument signatures, you specify the\n      argument types to identify the exact function to drop.\n    </p><p id=\"../Impala/docs/topics/impala_drop_function.xml_restrictions_blurb\"><b>Restrictions:</b></p><p id=\"../Impala/docs/topics/impala_drop_function.xml_udf_persistence_restriction\">\n        In Impala 2.5 and higher, Impala UDFs and UDAs written in C++ are persisted in the metastore database.\n        Java UDFs are also persisted, if they were created with the new <span class=\"sql-docs-inline-code\">CREATE FUNCTION</span> syntax for Java UDFs,\n        where the Java function argument and return types are omitted.\n        Java-based UDFs created with the old <span class=\"sql-docs-inline-code\">CREATE FUNCTION</span> syntax do not persist across restarts\n        because they are held in the memory of the <span class=\"sql-docs-inline-code\">catalogd</span> daemon.\n        Until you re-create such Java UDFs using the new <span class=\"sql-docs-inline-code\">CREATE FUNCTION</span> syntax,\n        you must reload those Java-based UDFs by running the original <span class=\"sql-docs-inline-code\">CREATE FUNCTION</span> statements again each time\n        you restart the <span class=\"sql-docs-inline-code\">catalogd</span> daemon.\n        Prior to Impala 2.5 the requirement to reload functions after a restart applied to both C++ and Java functions.\n      </p><p id=\"../Impala/docs/topics/impala_drop_function.xml_cancel_blurb_no\"><b>Cancellation:</b> Cannot be cancelled.\n      </p><p id=\"../Impala/docs/topics/impala_drop_function.xml_permissions_blurb\"><b>HDFS permissions:</b></p><p>\n      The user ID that the <span class=\"sql-docs-inline-code\">impalad</span> daemon runs under,\n      typically the <span class=\"sql-docs-inline-code\">impala</span> user, does not need any\n      particular HDFS permissions to perform this statement.\n      All read and write operations are on the metastore database,\n      not HDFS files and directories.\n    </p><p id=\"../Impala/docs/topics/impala_drop_function.xml_example_blurb\"><b>Examples:</b></p><p>\n      The following example shows how to drop Java functions created with the signatureless\n      <span class=\"sql-docs-inline-code\">CREATE FUNCTION</span> syntax in Impala 2.5 and higher.\n      Issuing <span class=\"sql-docs-inline-code\">DROP FUNCTION <span class=\"sql-docs-variable\">function_name</span></span> removes all the\n      overloaded functions under that name.\n      (See <a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_create_function.xml#create_function\">CREATE FUNCTION Statement</a> for a longer example\n      showing how to set up such functions in the first place.)\n    </p><div class=\"sql-docs-code-block\"><br/>create function my_func location '/user/impala/udfs/udf-examples.jar'<br/>  symbol='org.apache.impala.TestUdf';<br/><br/>show functions;<br/>+-------------+---------------------------------------+-------------+---------------+<br/>| return type | signature                             | binary type | is persistent |<br/>+-------------+---------------------------------------+-------------+---------------+<br/>| BIGINT      | my_func(BIGINT)                       | JAVA        | true          |<br/>| BOOLEAN     | my_func(BOOLEAN)                      | JAVA        | true          |<br/>| BOOLEAN     | my_func(BOOLEAN, BOOLEAN)             | JAVA        | true          |<br/>...<br/>| BIGINT      | testudf(BIGINT)                       | JAVA        | true          |<br/>| BOOLEAN     | testudf(BOOLEAN)                      | JAVA        | true          |<br/>| BOOLEAN     | testudf(BOOLEAN, BOOLEAN)             | JAVA        | true          |<br/>...<br/><br/>drop function my_func;<br/>show functions;<br/>+-------------+---------------------------------------+-------------+---------------+<br/>| return type | signature                             | binary type | is persistent |<br/>+-------------+---------------------------------------+-------------+---------------+<br/>| BIGINT      | testudf(BIGINT)                       | JAVA        | true          |<br/>| BOOLEAN     | testudf(BOOLEAN)                      | JAVA        | true          |<br/>| BOOLEAN     | testudf(BOOLEAN, BOOLEAN)             | JAVA        | true          |<br/>...<br/></div><p id=\"../Impala/docs/topics/impala_drop_function.xml_related_info\"><b>Related information:</b></p><p><a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_udf.xml#udfs\">Impala User-Defined Functions (UDFs)</a>, <a href=\"javascript: void(0);\" class=\"lang-ref-link\" data-target=\"topics/impala_create_function.xml#create_function\">CREATE FUNCTION Statement</a></p></div>","title":"DROP FUNCTION Statement"}